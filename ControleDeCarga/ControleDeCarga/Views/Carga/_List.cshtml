@model IEnumerable<ControleDeCarga.Models.Carga>
@using ControleDeCarga.Helpers;

<table class="table table-striped ">
    <tr>
        <th></th>
        <th>
            @Html.DisplayNameFor(model => model.Exportador.Nome)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Importador.Nome)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Filial.Nome)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.DTA)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.DI_DSI)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Mercadoria.Nome)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Especie.Nome)
        </th>        
        <th>
            @Html.DisplayNameFor(model => model.StatusCarga.Status)
        </th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>
            <td>
                @Ajax.ActionLink("Adicionar evento", "Create", "HistoricoCarga", new { id = item.Id }, new AjaxOptions
                       {
                           UpdateTargetId = "DivEventos",
                           InsertionMode = InsertionMode.Replace,
                           HttpMethod = "GET",
                           OnSuccess = "PrepareDialog",
                           LoadingElementId = "LoadingImg"
                       }, new { data_event = true })
                @Html.ActionLink("Editar", "Edit", new { id = item.Id }, new { data_edit = true })
                @Html.ActionLink("Detalhes", "Details", new { id = item.Id }, new { data_detail = true })
                @Html.ActionLink("Excluir", "Delete", new { id = item.Id }, new { data_delete = true })
            </td>
            <td>
                @Html.Truncate(item.Exportador.Nome, 15)
                
            </td>
            <td>
                @Html.Truncate(item.Importador.Nome,15)                
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Filial.Nome)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.DTA)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.DI_DSI)
            </td>
            <td>
                @Html.Truncate(item.Mercadoria.Nome,15)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Especie.Nome)
            </td>           
            <td>
                @Html.DisplayFor(modelItem => item.StatusCarga.Status)
            </td>
        </tr>
    }


</table>